(function(W){'use strict';function d(e){return"undefined"==typeof e||e}function T(e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t();return n}function t(){return Object.create(null)}function Z(e,t){return t.length-e.length}function s(e){return"string"==typeof e}function i(e){return"object"==typeof e}function F(e,n){var t=Q;if(e&&(n&&(e=h(e,n)),this.H&&(e=h(e,this.H)),this.I&&1<e.length&&(e=h(e,this.I)),t||""===t)){if(e=e.split(t),this.filter){n=this.filter,t=e.length;const s=[];for(let o=0,a=0;o<t;o++){const i=e[o];i&&!n[i]&&(s[a++]=i)}e=s}return e}return e}const Q=/[\p{Z}\p{S}\p{P}\p{C}]+/u,q=/[\u0300-\u036f]/g;function M(a,o){const i=Object.keys(a),r=i.length,t=[];let n="",s=0;for(let l=0,c,d;l<r;l++)c=i[l],(d=a[c])?(t[s++]=e(o?"(?!\\b)"+c+"(\\b|_)":c),t[s++]=d):n+=(n?"|":"")+c;return n&&(t[s++]=e(o?"(?!\\b)("+n+")(\\b|_)":"("+n+")"),t[s]=""),t}function h(e,t){for(let n=0,s=t.length;n<s&&(e=e.replace(t[n],t[n+1]),e);n+=2);return e}function e(e){return new RegExp(e,"g")}function E(e){let t="",n="";for(let s=0,i=e.length,o;s<i;s++)(o=e[s])!==n&&(t+=n=o);return t}var n,$={encode:x,B:!1,C:""},P,B,R,Y;function x(e){return F.call(this,(""+e).toLowerCase(),!1)}const D={},o={};function y(e){l(e,"add"),l(e,"append"),l(e,"search"),l(e,"update"),l(e,"remove")}function l(t,e){t[e+"Async"]=function(){const s=this,t=arguments;var n=t[t.length-1];let o;return"function"==typeof n&&(o=n,delete t[t.length-1]),n=new Promise(function(n){setTimeout(function(){s.async=!0;const o=s[e].apply(s,t);s.async=!1,n(o)})}),o?(n.then(o),this):n}}function _(c,l,o,e){const r=c.length;let s=[],n,a,i=0;e&&(e=[]);for(let d=r-1;0<=d;d--){const h=c[d],f=h.length,u=t();let m=!n;for(let t=0;t<f;t++){const c=h[t],p=c.length;if(p)for(let f=0,h,t;f<p;f++)if(t=c[f],n){{if(n[t]){if(!d)if(o)o--;else if(s[i++]=t,i===l)return s;(d||e)&&(u[t]=1),m=!0}if(e&&(a[t]=(h=a[t])?++h:h=1,h<r)){const n=e[h-2]||(e[h-2]=[]);n[n.length]=t}}}else u[t]=1}if(e)n||(a=u);else if(!m)return[];n=u}if(e)for(let t=e.length-1,a,r;0<=t;t--){a=e[t],r=a.length;for(let t=0,e;t<r;t++)if(e=a[t],!n[e]){if(o)o--;else if(s[i++]=e,i===l)return s;n[e]=1}}return s}function I(n,s){const o=t(),i=t(),e=[];for(let e=0;e<n.length;e++)o[n[e]]=1;for(let t=0,n;t<s.length;t++){n=s[t];for(let s=0,t;s<n.length;s++)t=n[s],o[t]&&!i[t]&&(i[t]=1,e[e.length]=t)}return e}const U={memory:{charset:"latin:extra",A:3,m:4,D:!1},performance:{A:3,m:3,s:!1,context:{depth:2,A:1}},match:{charset:"latin:extra",C:"reverse"},score:{charset:"latin:advanced",A:20,m:3,context:{depth:3,A:9}},default:{}};function a(e,r){if(!(this instanceof a))return new a(e);var n;let i;e?(s(e)?e=U[e]:(n=e.preset)&&(e=Object.assign({},n[n],e)),n=e.charset,i=e.lang,s(n)&&(-1===n.indexOf(":")&&(n+=":default"),n=o[n]),s(i)&&(i=D[i])):e={};let c,l,u=e.context||{};if(this.encode=e.encode||n&&n.encode||x,this.register=r||t(),this.A=c=e.resolution||9,this.C=r=n&&n.C||e.tokenize||"strict",this.depth="strict"===r&&u.depth,this.l=d(u.bidirectional),this.s=l=d(e.optimize),this.D=d(e.fastupdate),this.m=e.minlength||1,this.G=e.boost,this.h=l?T(c):t(),this.F=c=u.resolution||1,this.o=l?T(c):t(),this.B=n&&n.B||e.rtl,this.H=(r=e.matcher||i&&i.H)&&M(r,!1),this.I=(r=e.stemmer||i&&i.I)&&M(r,!0),e=r=e.filter||i&&i.filter){e=r,n=t();for(let t=0,s=e.length;t<s;t++)n[e[t]]=1;e=n}this.filter=e}n=a.prototype,n.append=function(e,t){return this.add(e,t,!0)},n.add=function(a,c,d,i){if(c&&(a||0===a)){if(!i&&!d&&this.register[a])return this.update(a,c);if(c=this.encode(c),i=c.length){const p=t(),u=t(),f=this.depth,h=this.A;for(let v=0;v<i;v++){let g=c[this.B?i-1-v:v];if(s=g.length,g&&s>=this.m&&(f||!u[g])){var s,n=m(h,i,v),o="",e,l;switch(this.C){case"full":if(3<s){for(n=0;n<s;n++)for(e=s;e>n;e--)e-n>=this.m&&(l=m(h,i,v,s,n),o=g.substring(n,e),r(this,u,o,l,a,d));break}case"reverse":if(2<s){for(e=s-1;0<e;e--)o=g[e]+o,o.length>=this.m&&r(this,u,o,m(h,i,v,s,e),a,d);o=""}case"forward":if(1<s){for(e=0;e<s;e++)o+=g[e],o.length>=this.m&&r(this,u,o,n,a,d);break}default:if(this.G&&(n=Math.min(n/this.G(c,g,v)|0,h-1)),r(this,u,g,n,a,d),f&&1<i&&v<i-1)for(s=t(),o=this.F,n=g,e=Math.min(f+1,i-v),s[n]=1,l=1;l<e;l++)if((g=c[this.B?i-1-v-l:v+l])&&g.length>=this.m&&!s[g]){s[g]=1;const t=this.l&&g>n;r(this,p,t?n:g,m(o+(i/2>o?0:1),i,v,e-1,l-1),a,d,t?g:n)}}}}this.D||(this.register[a]=1)}}return this};function m(e,n,t,s,o){return t&&1<e?n+(s||0)<=e?t+(o||0):(e-1)/(n+(s||0))*(t+(o||0))+1|0:0}function r(n,i,s,r,a,c,o){let e=o?n.o:n.h;(!i[s]||o&&!i[s][o])&&(n.s&&(e=e[r]),o?(i=i[s]||(i[s]=t()),i[o]=1,e=e[o]||(e[o]=t())):i[s]=1,e=e[s]||(e[s]=[]),n.s||(e=e[r]||(e[r]=[])),c&&-1!==e.indexOf(a)||(e[e.length]=a,n.D&&(n=n.register[a]||(n.register[a]=[]),n[n.length]=e)))}n.search=function(n,o,e){e||(!o&&i(n)?(e=n,n=e.query):i(o)&&(e=o));let a=[],s,r,l=0;if(e){o=e.limit,l=e.offset||0;var c=e.context,d;r=e.suggest}if(n&&(n=this.encode(n),s=n.length,1<s)){e=t(),d=[];for(let o=0,i=0,t;o<s;o++)if((t=n[o])&&t.length>=this.m&&!e[t])if(this.s||r||this.h[t])d[i++]=t,e[t]=1;else return a;n=d,s=n.length}if(!s)return a;o||(o=100),c=this.depth&&1<s&&!1!==c,e=0;let u;c?(u=n[0],e=1):1<s&&n.sort(Z);for(let t,i;e<s;e++){if(i=n[e],c?(t=N(this,a,r,o,l,2===s,i,u),r&&!1===t&&a.length||(u=i)):t=N(this,a,r,o,l,1===s,i),t)return t;if(r&&e===s-1){if(d=a.length,!d){if(c){c=0,e=-1;continue}return a}if(1===d)return A(a[0],o,l)}}return _(a,o,l,r)};function N(e,r,l,c,n,i,a,s){let o=[],t=s?e.o:e.h;if(e.s||(t=S(t,a,s,e.l)),t){let l=0;const d=Math.min(t.length,s?e.F:e.A);for(let u=0,m=0,r,h;u<d;u++)if(r=t[u])if(e.s&&(r=S(r,a,s,e.l)),n&&r&&i&&(h=r.length,h<=n?(n-=h,r=null):(r=r.slice(n),n=0)),r&&(o[l++]=r,i&&(m+=r.length,m>=c)))break;if(l){if(i)return A(o,c,0);r[r.length]=o;return}}return!l&&o}function A(e,n,t){return e=1===e.length?e[0]:[].concat.apply([],e),t||e.length>n?e.slice(t,t+n):e}function S(e,t,n,s){return n?(s=s&&t>n,e=(e=e[s?t:n])&&e[s?n:t]):e=e[t],e}n.contain=function(e){return!!this.register[e]},n.update=function(e,t){return this.remove(e).add(e,t)},n.remove=function(e,n){const t=this.register[e];if(t){if(this.D)for(let n=0,s;n<t.length;n++)s=t[n],s.splice(s.indexOf(e),1);else u(this.h,e,this.A,this.s),this.depth&&u(this.o,e,this.F,this.s);n||delete this.register[e]}return this};function u(e,t,o,i,s){let n=0;if(e.constructor===Array){if(s)t=e.indexOf(t),-1!==t?1<e.length&&(e.splice(t,1),n++):n++;else{s=Math.min(e.length,o);for(let a=0,r;a<s;a++)(r=e[a])&&(n=u(r,t,o,i,s),i||n||delete e[a])}}else for(let a in e)(n=u(e[a],t,o,i,s))||delete e[a];return n}y(a.prototype);function c(e){if(!(this instanceof c))return new c(e);var n=e.document||e.doc||e,o;this.F=[],this.h=[],this.o=[],this.register=t(),this.key=(o=n.key||n.id)&&g(o,this.o)||"id",this.D=d(e.fastupdate),this.l=(o=n.store)&&!0!==o&&[],this.store=o&&t(),this.async=!1,o=t();let r=n.index||n.field||n;s(r)&&(r=[r]);for(let n=0,t,c;n<r.length;n++)t=r[n],s(t)||(c=t,t=t.field),c=i(c)?Object.assign({},e,c):e,this.G||(o[t]=new a(c,this.register)),this.F[n]=g(t,this.o),this.h[n]=t;if(this.l)for(e=n.store,s(e)&&(e=[e]),n=0;n<e.length;n++)this.l[n]=g(e[n],this.o);this.index=o}function g(e,s){const t=e.split(":");let n=0;for(let o=0;o<t.length;o++)e=t[o],0<=e.indexOf("[]")&&(e=e.substring(0,e.length-2))&&(s[n]=!0),e&&(t[n++]=e);return n<t.length&&(t.length=n),1<n?t:t[0]}function z(e,t){if(s(t))e=e[t];else for(let n=0;e&&n<t.length;n++)e=e[t[n]];return e}function j(n,s,o,i,e){if(n=n[e],i===o.length-1)s[e]=n;else if(n)if(n.constructor===Array)for(s=s[e]=Array(n.length),e=0;e<n.length;e++)j(n,s,o,i,e);else s=s[e]||(s[e]=t()),e=o[++i],j(n,s,o,i,e)}function b(e,t,a,s,o,i,n,r){if(e=e[n])if(s===t.length-1){if(e.constructor===Array){if(a[s]){for(t=0;t<e.length;t++)o.add(i,e[t],!0,!0);return}e=e.join(" ")}o.add(i,e,r,!0)}else if(e.constructor===Array)for(n=0;n<e.length;n++)b(e,t,a,s,o,i,n,r);else n=t[++s],b(e,t,a,s,o,i,n,r)}n=c.prototype,n.add=function(e,n,o){if(i(e)&&(n=e,e=z(n,this.key)),n&&(e||0===e)){if(!o&&this.register[e])return this.update(e,n);for(let i=0,t,a;i<this.h.length;i++)a=this.h[i],t=this.F[i],s(t)&&(t=[t]),b(n,t,this.o,0,this.index[a],e,t[0],o);if(this.store&&(!o||!this.store[e])){let o;if(this.l){o=t();for(let t=0,e;t<this.l.length;t++)e=this.l[t],s(e)?o[e]=n[e]:j(n,o,e,0,e[0])}this.store[e]=o||n}}return this},n.append=function(e,t){return this.add(e,t,!0)},n.update=function(e,t){return this.remove(e).add(e,t)},n.remove=function(e){if(i(e)&&(e=z(e,this.key)),this.register[e]){for(let t=0;t<this.h.length&&(this.index[this.h[t]].remove(e,!this.G),!this.D);t++);this.store&&delete this.store[e],delete this.register[e]}return this},n.search=function(c,n,e,p){e||(!n&&i(c)?(e=c,c=e.query):i(n)&&(e=n,n=0));let a=[],m=[],h,d,o,t,r,f,l=0;if(e)if(e.constructor===Array)o=e,e=null;else{if(o=(h=e.pluck)||e.index||e.field,t=!1,d=this.store&&e.enrich,r="and"===e.bool,n=e.limit||100,f=e.offset||0,t&&(s(t)&&(t=[t]),!c)){for(let e=0,s;e<t.length;e++)(s=J.call(this,t[e],n,f,d))&&(a[a.length]=s,l++);return l?a:[]}s(o)&&(o=[o])}o||(o=this.h),r=r&&(1<o.length||t&&1<t.length);const u=!p&&(this.G||this.async)&&[];for(let h=0,i,d,g;h<o.length;h++){let v;if(d=o[h],s(d)||(v=d,d=d.field),u)u[h]=this.index[d].searchAsync(c,n,v||e);else{if(p?i=p[h]:i=this.index[d].search(c,n,v||e),g=i&&i.length,t&&g){const e=[];let s=0;r&&(e[0]=[i]);for(let o=0,i,n;o<t.length;o++)(i=t[o],g=(n=this.J[i])&&n.length)&&(s++,e[e.length]=r?[n]:n);s&&(i=r?_(e,n||100,f||0):I(i,e),g=i.length)}if(g)m[l]=d,a[l++]=i;else if(r)return[]}}if(u){const t=this;return new Promise(function(s){Promise.all(u).then(function(o){s(t.search(c,n,e,o))})})}if(!l)return[];if(h&&(!d||!this.store))return a[0];for(let t=0,e;t<m.length;t++){if(e=a[t],e.length&&d&&(e=O.call(this,e)),h)return e;a[t]={field:m[t],result:e}}return a};function J(s,o,t,i){let e=this.J[s],n=e&&e.length-t;if(n&&0<n)return(n>o||t)&&(e=e.slice(t,t+o)),i&&(e=O.call(this,e)),{tag:s,result:e}}function O(e){const t=Array(e.length);for(let n=0,s;n<e.length;n++)s=e[n],t[n]={id:s,doc:this.store[s]};return t}n.contain=function(e){return!!this.register[e]},n.get=function(e){return this.store[e]},n.set=function(e,t){return this.store[e]=t,this},y(c.prototype),P={encode:w,B:!1,C:""};const H=[e("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),"a",e("[\u00e8\u00e9\u00ea\u00eb]"),"e",e("[\u00ec\u00ed\u00ee\u00ef]"),"i",e("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),"o",e("[\u00f9\u00fa\u00fb\u00fc\u0171]"),"u",e("[\u00fd\u0177\u00ff]"),"y",e("\u00f1"),"n",e("[\u00e7c]"),"k",e("\u00df"),"s",e(" & ")," and "];function w(t){var e=t;return e.normalize&&(e=e.normalize("NFD").replace(q,"")),F.call(this,e.toLowerCase(),!t.normalize&&H)}B={encode:k,B:!1,C:"strict"};const V=/[^a-z0-9]+/,C={b:"p",v:"f",w:"f",z:"s",x:"s","\u00df":"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function k(e){e=w.call(this,e).join(" ");const t=[];if(e){const n=e.split(V),s=n.length;for(let i=0,o,a=0;i<s;i++)if((e=n[i])&&(!this.filter||!this.filter[e])){o=e[0];let n=C[o]||o,s=n;for(let i=1;i<e.length;i++){o=e[i];const t=C[o]||o;t&&t!==s&&(n+=t,s=t)}t[a++]=n}}return t}R={encode:L,B:!1,C:""};const K=[e("ae"),"a",e("oe"),"o",e("sh"),"s",e("th"),"t",e("ph"),"f",e("pf"),"f",e("(?![aeo])h(?![aeo])"),"",e("(?!^[aeo])h(?!^[aeo])"),""];function L(e,t){return e&&(e=k.call(this,e).join(" "),2<e.length&&(e=h(e,K)),t||(1<e.length&&(e=E(e)),e&&(e=e.split(" ")))),e}Y={encode:X,B:!1,C:""};const G=e("(?!\\b)[aeo]");function X(e){return e&&(e=L.call(this,e,!0),1<e.length&&(e=e.replace(G,"")),1<e.length&&(e=E(e)),e&&(e=e.split(" "))),e}o["latin:default"]=$,o["latin:simple"]=P,o["latin:balance"]=B,o["latin:advanced"]=R,o["latin:extra"]=Y;const f=W;let p;const v={Index:a,Document:c,Worker:null,registerCharset:function(e,t){o[e]=t},registerLanguage:function(e,t){D[e]=t}};(p=f.define)&&p.amd?p([],function(){return v}):f.exports?f.exports=v:f.FlexSearch=v})(this)